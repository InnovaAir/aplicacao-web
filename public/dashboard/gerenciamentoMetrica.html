<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../styles/MenuLateral.css" />
    <link rel="stylesheet" href="../styles/gerenc_metrica.css" />
    <link rel="stylesheet" href="../styles/menu_mobile.css" />

    <title>Gerenciamento de Métrica</title>
    <script src="https://cdn.jsdelivr.net/npxm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
</head>

<body>
    <button class="botao_abrir" onclick="abrirMenu()">☰</button>

    <div class="barra_lateral" id="menu">
        <div class="fechar_barrinha">
            <button class="botao_fechar" onclick="fecharMenu()">✖</button>
        </div>
        <div class="logo_container">
            <img src="../assets/InnovaairWhite.png" alt="" />
        </div>

        <span id="user_logado">Olá, Usuário</span>
        <div class="opcoes">
            <div class="container1">
                <u>
                    <li><a href="visaoGeral.html" class="agora">Visão geral</a></li>
                    <li><a href="tempoReal.html">Tempo real</a></li>
                    <li><a href="listaMaquinas.html">Lista de máquinas</a></li>
                    <li><a href="CadastrarMaquina.html">Cadastrar Máquina</a></li>
                    <li><a href="suporte.html">Suporte</a></li>
                </u>
            </div>
            <div class="container2">
                <u>
                    <li><a href="suporte.html">Fale conosco!</a></li>
                </u>
            </div>
        </div>
    </div>
    <div class="menu_mobile">
        <button class="botao_menu_mobile" onclick="abrirMenuMobile()">☰</button>
        <div class="logo_container">
            <img src="../assets/InnovaairWhite.png" alt="" />
        </div>
    </div>
    <div class="novo_menu">
        <a href="visaoGeral.html" class="agora">Visão geral</a>
        <a href="tempoReal.html">Tempo real</a>
        <a href="listaMaquinas.html">Lista de máquinas</a>
        <a href="NovosCadastros.html">Cadastros</a>
        <a href="suporte.html">Suporte</a>
        <a href="suporte.html">Fale conosco!</a>
    </div>
    <div id="tela" style="background-color: white;" class="container">
        <div class="child">
            <div class="tituloContainer">Gerenciamento de Métricas</div>
            <div class="subtituloContainer">            
                    <select class="selectBox selectFilial">
                        <option value="" disabled selected>Escolher filial</option>
                        <option value="volvo">opção</option>
                        <option value="saab">opção</option>
                        <option value="opel">opção</option>
                        <option value="audi">opção</option>
                    </select>
            </div>
            <div class="section1">
                <div class="grid-maquinas">
                    <div class="maquina-generic">
                        <span id="idHostMac">ID - Hostname (MacAdress)</span>
                        <span id="serialNum">SERIAL NUMBER</span>
                        <span id="setor">Setor X</span>
                        <button class="exibir-metricas">Exibir métricas</button>
                        <button class="exibir-metricas" onclick="modalAdicionar()">Adicionar nova métrica</button>  
                    </div>
                    <div class="maquina-generic">
                        <span id="idHostMac">ID - Hostname (MacAdress)</span>
                        <span id="serialNum">SERIAL NUMBER</span>
                        <span id="setor">Setor X</span>
                        <button class="exibir-metricas">Exibir métricas</button>
                        <button class="exibir-metricas" onclick="modalAdicionar()">Adicionar nova métrica</button>  
                    </div><div class="maquina-generic">
                        <span id="idHostMac">ID - Hostname (MacAdress)</span>
                        <span id="serialNum">SERIAL NUMBER</span>
                        <span id="setor">Setor X</span>
                        <button class="exibir-metricas">Exibir métricas</button>
                        <button class="exibir-metricas" onclick="modalAdicionar()">Adicionar nova métrica</button>  
                    </div><div class="maquina-generic">
                        <span id="idHostMac">ID - Hostname (MacAdress)</span>
                        <span id="serialNum">SERIAL NUMBER</span>
                        <span id="setor">Setor X</span>
                        <button class="exibir-metricas">Exibir métricas</button>
                        <button class="exibir-metricas" onclick="modalAdicionar()">Adicionar nova métrica</button>  
                    </div><div class="maquina-generic">
                        <span id="idHostMac">ID - Hostname (MacAdress)</span>
                        <span id="serialNum">SERIAL NUMBER</span>
                        <span id="setor">Setor X</span>
                        <button class="exibir-metricas">Exibir métricas</button>
                        <button class="exibir-metricas" onclick="modalAdicionar()">Adicionar nova métrica</button>  
                    </div><div class="maquina-generic">
                        <span id="idHostMac">ID - Hostname (MacAdress)</span>
                        <span id="serialNum">SERIAL NUMBER</span>
                        <span id="setor">Setor X</span>
                        <button class="exibir-metricas">Exibir métricas</button>
                        <button class="exibir-metricas" onclick="modalAdicionar()">Adicionar nova métrica</button>  
                    </div>

                </div>
                <div class="subSection2">
                    <div id="maquinaTitulo" class="tituloContainer">Máquina: ID - Hostname (MacAdress)</div>
                    <div id="components" class="componentsContainer">
                        <div class="componentBucket">
                            <span id="componentName">Categoria: NomeComponente</span>
                            <div class="componentDiv">
                                <span id="metrica_i_componente">(ID) Métrica:</span>
                                <span id="limiteMax_i_componente">Limite Máximo:</span>
                                <span id="limiteMin_i_componente">Limite Mínimo:</span>
                                <div class="list-options">
                                    <button class="editar-metrica" onclick="modalEdicao()">Editar</button>
                                    <button class="remover-metrica" onclick="modalConfirmarExclusao( )">Remover</button>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
    </div>
    </div>
</body>

</html>

<script src="../js/animacaoMenu.js"></script>
<!-- Sweet Alert -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>

function modalAdicionar(idMaquina) {
        Swal.fire({
            title: `Adicioar nova métrica</i>`,
            html: `
            <div class="container-update">
                <div class="row-modal">
                    <span>Métrica:</span> <input id="metrica" type="text" placeholder="Insira a métrica">
                </div>
                <div class="row-modal">
                    <span>Limite máximo:</span> <input id="metrica" type="text" placeholder="Insira o limite máximo">
                </div>
                <div class="row-modal">
                    <span>Limite mínimo:</span> <input id="metrica" type="text" placeholder="Insira o limite mínimo">
                </div>
                <p>Caso queira deixar a métrica sem limite, deixe o campo vázio.</p>
            </div>  
            `,
            showCloseButton: false,
            showCancelButton: true,
            focusConfirm: false,
            confirmButtonColor: '#5573ff',
            confirmButtonText: `<i class=""></i> Confirmar`,
            cancelButtonColor: 'red',
            cancelButtonText: `<i class=""></i> Cancelar`
        });

        var new_maximo = document.getElementById("limite-maximo-exist").value;
        var new_minimo = document.getElementById("limite-minimo-exist").value;
    }

    function modalEdicao(idMetrica, nomeMetrica, limiteMaximo, limiteMinimo) {
        

        Swal.fire({
            title: `Atualização da métrica <br> <i id='metrica-selecionada'>${nomeMetrica}</i>`,
            html: `
            <div class="container-update">
                <div class="row-modal">
                    <span id="limite-maximo-exist">Limite Máximo:</span> <input type="text" value="${limiteMaximo}">
                </div>
                <div class="row-modal">
                    <span id="limite-minimo-exist">Limite Mínimo:</span> <input type="text" value="${limiteMinimo}">
                </div>
            </div>
            `,
            showCloseButton: false,
            showCancelButton: true,
            focusConfirm: false,
            confirmButtonColor: '#5573ff',
            confirmButtonText: `<i class=""></i> Confirmar`,
            cancelButtonColor: 'red',
            cancelButtonText: `<i class=""></i> Cancelar`
        });

        var new_maximo = document.getElementById("limite-maximo-exist").value;
        var new_minimo = document.getElementById("limite-minimo-exist").value;

    }

    function modalConfirmarExclusao(idMetrica) {
        Swal.fire({
            title: "Deseja realmente apagar a métrica ${nome?}",
            showCloseButton: false,
            showCancelButton: true,
            confirmButtonColor: '#5573ff',
            confirmButtonText: `<i class=""></i> Confirmar`,
            cancelButtonColor: 'red',
            cancelButtonText: `<i class=""></i> Cancelar`
        })
    }

</script>