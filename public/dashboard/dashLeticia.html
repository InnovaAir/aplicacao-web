<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Análise de Desempenho</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="../styles/sidebar_marcolino.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="../js/navbarHover.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.4.0"></script>

    <link rel="stylesheet" href="../styles/dashLeticia.css">
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-1 sidebar d-flex flex-column align-items-center">
                <div id="sidebar">
                    <div class="logo d-flex justify-content-between align-items-center w-100 px-2">
                        <img src="../assets/InnovaairWhite.png" alt="Logo" class="img-fluid" />
                        <button id="closeSidebar" class="btn btn-sm btn-outline-primary">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>

                    <a href="#"><i class="fas fa-home"></i> <span>Início</span></a>
                    <a href="#"><i class="fas fa-play"></i> <span>Vídeos</span></a>
                    <a href="#"><i class="fas fa-puzzle-piece"></i> <span>Componentes</span></a>
                    <a href="#"><i class="fas fa-font"></i> <span>Texto</span></a>
                    <a href="#"><i class="fas fa-info-circle"></i> <span>Sobre</span></a>
                    <a href="#"><i class="fas fa-comments"></i> <span>Contato</span></a>
                    <a onclick="limparSessao()" href="../index.html"><strong>Sair</strong></a>
                </div>
            </div>

            <div class="col-md-11 p-2">
                <div class="tela_geral">
                    <div class="tela_geral_centralizada">
                        <div class="tela_dash">
                            <div class="titulos_dash">
                                <div class="titulo_alinhado">
                                    <span class="titulo01"><b>Análise de Desempenho</b></span>
                                    <span><i>⇀ Prevenção de alertas</i></span>
                                </div>

                                <div class="titulo_alinhado">
                                    <span class="titulo01" id="titulo_aeroporto"><b>Aeroporto Guarulhos</b></span>
                                    <span id="titulo_aeroporto"><i>*Última atualização: 12/05/2025 - 14:52</i></span>
                                </div>
                            </div>

                            <div class="select_alinhado">
                                <div class="div_select custom-select-wrapper">
                                    <span><b>Selecione o ano monitorado</b></span>
                                    <select id="select_ano" class="custom-select">
                                        <option value="2024">2024</option>
                                        <option value="2025" selected>2025</option>
                                    </select>
                                </div>

                                <div class="div_select custom-select-wrapper">
                                    <span><b>Selecione o componente</b></span>
                                    <select id="select_componente" class="custom-select">
                                        <option value="todos" selected>TODOS</option>
                                        <option value="cpu">CPU</option>
                                        <option value="ram">RAM</option>
                                    </select>
                                </div>
                            </div>

                            <div class="titulo_alinhado">
                                <span id="alertas_kpi_titulo"><b>Quantidade de alertas prováveis</b></span>
                                <span><i>*De acordo com a previsão e nível de alerta</i></span>
                            </div>

                            <div class="lateral">
                                <div class="box_alinhada1">
                                    <div class="box_kpi">
                                        <div class="box_kpi_nivel" style="background-color: #DEC828;">
                                            <span>Nível: Baixo</span>
                                            <span id="numero_kpi"><b>10</b></span>
                                        </div>

                                        <div class="box_kpi_nivel" style="background-color: #DE2828;">
                                            <span>Nível: Alto</span>
                                            <span id="numero_kpi"><b>7</b></span>
                                        </div>

                                        <div class="box_kpi_nivel" style="background-color: #8258A6;">
                                            <span>Nível: Crítico</span>
                                            <span id="numero_kpi"><b>2</b></span>
                                        </div>
                                    </div>

                                    <div class="grafico_geral">
                                        <div class="head_grafico">
                                            <div class="titulo_alinhado">
                                                <span id="alertas_kpi_titulo"><b>Previsão de oscilação de desempenho dos
                                                        componetes</b></span>
                                                <span><i>*Baseado nos dados do último ano</i></span>
                                            </div>

                                            <div class="taxa_kpi">
                                                <div class="texto_taxa">
                                                    <span style="font-size: 20px;">Taxa de confiabilidade:</span>
                                                </div>
                                                <div class="texto_taxa">
                                                    <span style="font-size: 25px;"><b>98.9%</b></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="grafico">
                                            <div id="graficoLinha"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="box_alinhada2">
                                    <div class="box_kpi_lateral kpi1">
                                        <span>Total de alertas</span>
                                        <span id="numero_kpi"><b>19</b></span>
                                        <span><i>*Aumento de 2.5% em relação ao ano passado </i></span>
                                    </div>

                                    <div class="subtitulo">
                                        <div class="box_kpi_lateral kpi2">
                                            <span>Componente com maior risco de alertas</span>
                                            <span id="numero_kpi" class="borda_inferior"><b>CPU</b></span>
                                            <span id="numero_kpi"><b>51%</b></span>
                                            <span><i>*Predominância em (%)</i></span>
                                        </div>
                                    </div>

                                    <div class="box_kpi_lateral kpi3">
                                        <span>Mês de maior pico</span>
                                        <span id="numero_kpi"><b>Novembro/2025</b></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
</body>

</html>

<!-- JQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<!-- Bootstrap Bundle JS (popper + bootstrap) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
    let expanded = false;

    $('#sidebar').on('click', function () {
        if (!expanded) {
            $(this).addClass('expanded');
            expanded = true;
        }
    });

    $('#closeSidebar').on('click', function (e) {
        e.stopPropagation(); // Evita reabrir imediatamente
        $('#sidebar').removeClass('expanded');
        expanded = false;
    });
</script>

<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

<script>
    var options = {
        series: [{
            name: 'CPU',
            data: [4, 3, 10, 9, 29, 19, 22, 9, 12, 7, 19, 5]
        }, {
            name: 'RAM',
            data: [8, 6, 20, 18, 39, 10, 15, 4, 2, 14, 18, 10]
        }],
        chart: {
            height: 350,
            type: 'line',
        },
        forecastDataPoints: {
            count: 6
        },
        stroke: {
            width: 5,
            curve: 'smooth'
        },
        xaxis: {
            type: 'datetime',
            categories: ['1/01/2000', '2/01/2000', '3/01/2000', '4/01/2000', '5/01/2000', '6/01/2000', '7/01/2000', '8/01/2000', '9/01/2000', '10/01/2000', '11/01/2000', '12/01/2000'],
            tickAmount: 10,
            labels: {
                formatter: function (value, timestamp, opts) {
                    return opts.dateFormatter(new Date(timestamp), 'MMM')
                }
            }
        },
        title: {
            text: 'Forecast',
            align: 'left',
            style: {
                fontSize: "16px",
                color: '#666'
            }
        },
        fill: {
            gradient: {
                shade: 'dark',
                gradientToColors: ['#FDD835'],
                shadeIntensity: 1,
                type: 'horizontal',
                opacityFrom: 1,
                opacityTo: 1,
                stops: [0, 100, 100, 100]
            },
        }
    };

    var chart = new ApexCharts(document.querySelector("#graficoLinha"), options);
    chart.render();
</script>