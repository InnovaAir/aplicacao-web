<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../styles/MenuLateral.css" />
    <link rel="stylesheet" href="../styles/visao_geral.css" />
    <link rel="stylesheet" href="../styles/menu_mobile.css" />

    <title>Visão geral</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
</head>

<body>
    <button class="botao_abrir" onclick="abrirMenu()">☰</button>

    <div class="barra_lateral" id="menu">
        <div class="fechar_barrinha">
            <button class="botao_fechar" onclick="fecharMenu()">✖</button>
        </div>
        <div class="logo_container">
            <img src="../assets/InnovaairWhite.png" alt="" />
        </div>

        <span id="user_logado">Olá, Usuário</span>
        <div class="opcoes">
            <div class="container1">
                <u>
                    <li><a href="visaoGeral.html" class="agora">Visão geral</a></li>
                    <li><a href="tempoReal.html">Tempo real</a></li>
                    <li><a href="listaMaquinas.html">Lista de máquinas</a></li>
                    <li><a href="CadastrarMaquina.html">Cadastrar Máquina</a></li>
                    <li><a href="suporte.html">Suporte</a></li>
                </u>
            </div>
            <div class="container2">
                <u>
                    <li><a href="suporte.html">Fale conosco!</a></li>
                </u>
            </div>
        </div>
    </div>
    <div class="menu_mobile">
        <button class="botao_menu_mobile" onclick="abrirMenuMobile()">☰</button>
        <div class="logo_container">
            <img src="../assets/InnovaairWhite.png" alt="" />
        </div>
    </div>
    <div class="novo_menu">
        <a href="visaoGeral.html" class="agora">Visão geral</a>
        <a href="tempoReal.html">Tempo real</a>
        <a href="listaMaquinas.html">Lista de máquinas</a>
        <a href="NovosCadastros.html">Cadastros</a>
        <a href="suporte.html">Suporte</a>
        <a href="suporte.html">Fale conosco!</a>
    </div>
    <div style="background-color: white;" class="container">
        <div class="child">
            <div class="tituloContainer">Análise em tempo real</div>
            <div style="margin-top: -30px;
" class="subtituloContainer">
                *De acordo com a última captura obtida
                <div style="width: 40%; margin-top:10px">
                <select class="selectBox selectFilial">
                    <option value="" disabled selected>Escolher filial</option>
                    <option value="volvo">opção</option>
                    <option value="saab">opção</option>
                    <option value="opel">opção</option>
                    <option value="audi">opção</option>
                  </select>
            </div>
        </div>
            <div class="section1">

                <div class="subSection1">

                    <div class="InformacaoTotens">
                        <div id="graficoPizzas">

                        </div>

                        <div id="dados">
                            <div class="TotensQTD">
                                <div class="totemTitulo">
                                    Total de Totens
                                    <div id="totemDado">48</div>
                                </div>

                                <div class="totemTitulo">
                                    Totens em Alerta

                                    <div id="totemDado">24</div>
                                </div>
                            </div>


                        </div>
                    </div>


                    <div class="InformacaoAlertas">
                        <div class="graficoAlertas"></div>
                        <div id="dados">
                            <div class="TotensQTD">
                                <div class="totemTitulo">
                                    Total de Alertas
                                    <div id="totemDado">150</div>
                                </div>

                                <div class="totemTitulo">
                                    Intervalo com maior pico

                                    <div id="totemDado">Tarde</div>
                                </div>
                            </div>


                        </div>
                    </div>


                </div>
                <div class="subSection2">
                    <div class="listaMaquinas">
                        <div class="tituloContainer">Lista de máquinas
                            <div class="selects">
                                <select class="selectBox selectFiltro">
                                    <option value="" disabled selected>Filtro</option>
                                    <option value="volvo">opção</option>
                                    <option value="saab">opção</option>
                                    <option value="opel">opção</option>
                                    <option value="audi">opção</option>
                                  </select>
    
                                  <select class="selectBox selectOrdem">
                                    <option value="" disabled selected>Ordem</option>
                                    <option value="volvo">opção</option>
                                    <option value="saab">opção</option>
                                    <option value="opel">opção</option>
                                    <option value="audi">opção</option>
                                  </select>
                                </div>
                                
                        </div>
                        <div class="scrollMaquinas">
                            <div class="legendasMaquinas">
                                <div style="color: black; font-weight: 600;width:100%" class="maquinaLegenda">Nome do totem</div>
                                <div style="color: black; font-weight: 600;width:50%" class="maquinaLegenda">Uso CPU</div>
                                <div style="color: black; font-weight: 600;width:50%" class="maquinaLegenda">Uso RAM</div>
                                <div style="color: black; font-weight: 600;width:50%" class="maquinaLegenda">Uso Disco</div>
                                <div style="color: black; font-weight: 600;width:50%" class="maquinaLegenda">Ping</div>
                                <div style="color: black; font-weight: 600;width:50%" class="maquinaLegenda">Processos</div>
                                <div style="color: black; font-weight: 600;width:100%" class="maquinaLegenda">Tempo de Atividade
                                </div>

                            </div>
                            <div class="secaoMaquinas">
                                <div style="width:100%" class="maquinaLegenda numeroTotem">Totem-f001-a</div>
                                <div style="width:50%" class="maquinaLegenda usoCPU">
                                    <div class="bola"></div>
                                    15%
                                </div>
                                <div style="width:50%" class="maquinaLegenda usoRam">
                                    <div class="bola"></div>
                                    45%
                                </div>
                                <div style="width:50%" class="maquinaLegenda usoDisco">
                                    <div class="bola"></div>
                                    45%</div>
                                <div style="width:50%" class="maquinaLegenda ping">
                                    <div class="bola"></div>
                                    120ms</div>
                                <div style="width:50%" class="maquinaLegenda Processos">19283</div>
                                <div style="width:100%" class="maquinaLegenda tempoAtividade">24d 12h 32min 155</div>


                                <!-- varios log para testes de scroll abaixo (apenas des-comente para teste)-->
                            </div>

                            

                        </div>
                </div>
                    <div class="alertasLog">
                        <p style="font-size: x-large; font-weight: bold; color: #5271FF;" class="titulo">
                            Log de alertas
                        </p>

                        <div class="scrollLog">
                            <div class="legendasMaquinas">
                                <div style="color: black; font-weight: 600; margin-left: 5px;width: 40%;"
                                    class="maquinaLegenda">Máquina</div>
                                <div style="color: black;width: 30%; font-weight: 600;" class="maquinaLegenda">Nível
                                </div>
                                <div style="color: black; font-weight: 600; width: 40%;" class="maquinaLegenda">
                                    Componente</div>
                                <div style="color: black; font-weight: 600;width: 60%;" class="maquinaLegenda">Momento
                                </div>


                            </div>
                            <div class="secaoLog">
                                <div style="margin-left: 3px;width: 40%;" class="maquinaLegenda logMaquina">Totem-f001-a
                                </div>
                                <div style="width: 30%;" class="maquinaLegenda logNivel">Grave</div>
                                <div style="width: 40%;" class="maquinaLegenda logComponente">CPU</div>
                                <div style="width: 60%;" class="maquinaLegenda logMomento">14/04/2025 13:50</div>
                            </div>

                            <!-- varios log para testes de scroll abaixo (apenas des-comente para teste)-->
                            <!-- <div class="secaoLog"> 
                            <div class="logMaquina">Totem-f001-a</div>
                            <div class="logNivel">Grave</div>
                            <div class="logComponente">CPU</div>
                            <div class="logMomento">13:00</div>
                        </div>
                        <div class="secaoLog">
                            <div class="logMaquina">Totem-f001-a</div>
                            <div class="logNivel">Grave</div>
                            <div class="logComponente">CPU</div>
                            <div class="logMomento">13:00</div>
                        </div>
                        <div class="secaoLog">
                            <div class="logMaquina">Totem-f001-a</div>
                            <div class="logNivel">Grave</div>
                            <div class="logComponente">CPU</div>
                            <div class="logMomento">13:00</div>
                        </div>
                        <div class="secaoLog">
                            <div class="logMaquina">Totem-f001-a</div>
                            <div class="logNivel">Grave</div>
                            <div class="logComponente">CPU</div>
                            <div class="logMomento">13:00</div>
                        </div>
                        <div class="secaoLog">
                            <div class="logMaquina">Totem-f001-a</div>
                            <div class="logNivel">Grave</div>
                            <div class="logComponente">CPU</div>
                            <div class="logMomento">13:00</div>
                        </div>
                        <div class="secaoLog">
                            <div class="logMaquina">Totem-f001-a</div>
                            <div class="logNivel">Grave</div>
                            <div class="logComponente">CPU</div>
                            <div class="logMomento">13:00</div>
                        </div>
                        <div class="secaoLog">
                            <div class="logMaquina">Totem-f001-a</div>
                            <div class="logNivel">Grave</div>
                            <div class="logComponente">CPU</div>
                            <div class="logMomento">13:00</div>
                        </div>
                        <div class="secaoLog">
                            <div class="logMaquina">Totem-f001-a</div>
                            <div class="logNivel">Grave</div>
                            <div class="logComponente">CPU</div>
                            <div class="logMomento">13:00</div>
                        </div>
                        <div class="secaoLog">
                            <div class="logMaquina">Totem-f001-a</div>
                            <div class="logNivel">Grave</div>
                            <div class="logComponente">CPU</div>
                            <div class="logMomento">13:00</div>
                        </div>
                        <div class="secaoLog">
                            <div class="logMaquina">Totem-f001-a</div>
                            <div class="logNivel">Grave</div>
                            <div class="logComponente">CPU</div>
                            <div class="logMomento">13:00</div>
                        </div>
                        <div class="secaoLog">
                            <div class="logMaquina">Totem-f001-a</div>
                            <div class="logNivel">Grave</div>
                            <div class="logComponente">CPU</div>
                            <div class="logMomento">13:00</div>
                        </div>
                        <div class="secaoLog">
                            <div class="logMaquina">Totem-f001-a</div>
                            <div class="logNivel">Grave</div>
                            <div class="logComponente">CPU</div>
                            <div class="logMomento">13:00</div>
                        </div>
                        <div class="secaoLog">
                            <div class="logMaquina">Totem-f001-a</div>
                            <div class="logNivel">Grave</div>
                            <div class="logComponente">CPU</div>
                            <div class="logMomento">13:00</div>
                        </div>
                        <div class="secaoLog">
                            <div class="logMaquina">Totem-f001-a</div>
                            <div class="logNivel">Grave</div>
                            <div class="logComponente">CPU</div>
                            <div class="logMomento">13:00</div>
                        </div>
                        <div class="secaoLog">
                            <div class="logMaquina">Totem-f001-a</div>
                            <div class="logNivel">Grave</div>
                            <div class="logComponente">CPU</div>
                            <div class="logMomento">13:00</div>
                        </div> -->

                        </div>
                    </div>
                   
            </div>
        </div>
    </div>

    <!-- <div class="section1">
                <select>
                    <option value="">Aeroporto de Guarulhos</option>
                    <option value="">Aeroporto de Congonhas</option>
                    <option value="">Aeroporto Vira-copos</option>
                </select>
                <div class="kpi1">
                    <p class="titulo">Informações de Máquina:</p>
                    <p>Quantidade de máquinas: 23</p>
                </div>
                <div class="kpi2">
                    <p class="titulo">Últimos alertas gerados</p>
                    <p>20/10/2025 - 12:21:23 - CPU acima do limite esperado (CDA-5)</p>
                    <p>02/10/2025 - CPU acima do limite esperado (CDA-5)</p>
                </div>
                <div class="grafico">
                    <canvas id="graficoAlertas"></canvas>
                </div>
            </div> -->
    </div>
    </div>
    </div>
</body>

</html>

<script src="../js/animacaoMenu.js"></script>

<script>
    const graficoAlerta = document.getElementById("graficoAlertas");
    new Chart(graficoAlerta, {
        type: "line",
        data: {
            labels: [
                "Outubro",
                "Novembro",
                "Dezembro",
                "Janeiro",
                "Fevereiro",
                "Março",
            ],
            datasets: [
                {
                    label: "Quantidade de alertas",
                    fill: true,
                    data: [12, 19, 3, 5, 2, 3],
                    backgroundColor: [
                        "rgba(255, 99, 132, 0.2)",
                        "rgba(54, 162, 235, 0.2)",
                        "rgba(255, 206, 86, 0.2)",
                        "rgba(75, 192, 192, 0.2)",
                        "rgba(153, 102, 255, 0.2)",
                        "rgba(255, 159, 64, 0.2)",
                    ],
                    borderColor: [
                        "rgba(255, 99, 132, 1)",
                        "rgba(54, 162, 235, 1)",
                        "rgba(255, 206, 86, 1)",
                        "rgba(75, 192, 192, 1)",
                        "rgba(153, 102, 255, 1)",
                        "rgba(255, 159, 64, 1)",
                    ],
                    borderWidth: 1,
                },
            ],
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true,
                },
            },
            responsive: [{
                breakpoint: 1000,
                options: {}
            }],
            plugins: {
                title: {
                    display: true,
                    text: "Volume de alertas por semana",
                },
                legend: {
                    display: true,
                    position: "top",
                },
            },
        },
    });



    // // new Chart(graficoPizzas, {   // chart js desatualizado
    //      type: "doughnut",
    //      data: {
    //          labels: ["Em aberto", "Pendente", "Resolvido"],
    //          datasets: [
    //              {
    //                  data: [300, 50, 100],
    //                  backgroundColor: ["#34A853", "#FBD604", "#F1060A"],
    //              },
    //          ],
    //      },
    //      options: {
    //
    //          radius: "60%", // tamanho da rosca
    //          cutout: "70%", // serve para deixar o donut mais fino
    //          responsive: true,
    //          maintainAspectRatio: false,
    //          plugins: {
    //              //
    //              title: {
    //                  align: "start",
    //                  padding: {},
    //                  font: {
    //                      size: 24,
    //                      left: 0,
    //                  },
    //
    //                  display: true,
    //                  text: "Relação de alertas e andamento",
    //              }, 
    //              //
    //              legend: {
    //                  display: true,
    //                  position: "right",
    //                  labels: {
    //                      font: {
    //                          size: 18,
    //                      },
    //                  },
    //              },
    //          },
    //      },
    //  }); 


    var options = {
        series: [50, 15, 15, 7.5, 12.5],
        labels: ['Nenhum alerta', 'Um alerta', 'Dois alertas', 'Três alertas', 'Quatro alertas'],
        legend: {
            position: 'right',
            offsetY: 0,

        },
        chart: {
            type: 'donut',
        },

        responsive: [{
            breakpoint: 480,
            options: {
                chart: {

                },
                legend: {
                    position: 'bottom'
                },
            }
        }]
    };

    var chart = new ApexCharts(document.querySelector("#graficoPizzas"), options);
    chart.render();
</script>



</script>